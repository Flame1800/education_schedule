{"version":3,"sources":["actions/index.js","componets/Filter/Filter.js","componets/Filter/index.js","componets/Sidebar/Sidebar.js","componets/Sidebar/index.js","componets/Lesson/index.js","componets/Lesson/Lesson.js","componets/NawWeek/NawWeek.js","componets/NawWeek/index.js","componets/SheduleDay/SheduleDay.js","componets/SheduleDay/index.js","componets/SheduleWeek/SheduleWeek.js","componets/SheduleWeek/index.js","App.js","serviceWorker.js","reducers/handlers/filter.js","reducers/handlers/shedule.js","reducers/handlers/sheduleState.js","reducers/handlers/sideBar.js","reducers/handlers/currWeek.js","reducers/handlers/currLessons.js","reducers/handlers/sheduleMode.js","reducers/handlers/selectedDay.js","reducers/handlers/propFromLoad.js","reducers/index.js","index.js"],"names":["loadSheduleRequest","createAction","loadSheduleSuccess","loadSheduleFailure","loadSheduleEmpty","loadFilterData","clearFilter","switchFilter","pushProp","loadDaysCurrWeek","loadCurrLessons","changeMode","changeDataLoadMode","changeDateLoad","selectDay","setDateWeek","loadShedule","mode","dispatch","a","year","month","day","Number","currDate","axios","get","currWeek","Object","keys","data","length","date","dateStart","idCurrWeek","_id","responce","week","actionsCreators","actions","pushPropFromLoadLessons","Filter","connect","state","groups","filter","shedule","sheduleMode","dataLoadMode","dateLoad","dateCurrWeek","sideBar","sheduleState","props","React","useState","filterList","setfilterList","searchResults","setSearchResults","searchValue","setSearchValue","selectLastItem","item","e","preventDefault","window","localStorage","prop","group","changeWeek","className","onClick","htmlFor","type","placeholder","onInput","value","target","res","name","startsWith","map","teacher","toLocaleLowerCase","abb_name","sort","b","newData","_","sortedUniq","key","num","itemClasses","division","course","newFilter","uniqueId","Sidebar","currGroup","currLessons","currTeacher","loadMode","propFromLoad","filterClasses","Lesson","lesson","subject","lessonNumber","subLesson","exhibitor","cabinet","number","subgroup","NawWeek","days","currDay","selectedDay","selectDayHadle","classes","fullDate","littleWeekDay","SheduleDay","lessons","dayLessonsF","sortBy","class","dayLessons","newLessons","numbers","findLesson","i","push","filterLessons","Array","isArray","SheduleWeek","generateLessons","openDay","weekDay","ConnectApp","startUser","setStartUser","useEffect","Boolean","location","hostname","match","handleActions","payload","groupsNosorted","slice","firstDayWeek","propsDate","DateTime","fromISO","setLocale","plus","c","toFormat","split","word","toUpperCase","substring","join","fyear","fmonth","fday","filtered","local","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.8e663d0a.chunk.js","sourcesContent":["import { createAction } from 'redux-actions';\r\nimport axios from 'axios';\r\nimport { DateTime } from 'luxon';\r\n\r\nexport const loadSheduleRequest = createAction(\"LOAD_SHEDULE_REQUEST\");\r\nexport const loadSheduleSuccess = createAction(\"LOAD_SHEDULE_SUCCESS\");\r\nexport const loadSheduleFailure = createAction(\"LOAD_SHEDULE_FAILURE\");\r\nexport const loadSheduleEmpty = createAction(\"LOAD_SHEDULE_EMPTY\");\r\n\r\nexport const loadFilterData = createAction(\"LOAD_FILTER_LIST\");\r\nexport const filteredInDivisions = createAction(\"FILTERED_IN_DIVISONS\");\r\nexport const clearFilter = createAction(\"CLEAR_FILTER\");\r\nexport const switchFilter = createAction(\"SWITCH_FILTER\");\r\nexport const pushProp = createAction('PUSH_PROP');\r\n\r\nexport const loadDaysCurrWeek = createAction(\"LOAD_DAYS_CURR_WEEK\");\r\nexport const loadCurrLessons = createAction(\"LOAD_CURR_LESSONS\");\r\nexport const changeMode = createAction(\"CHANGE_MODE\");\r\nexport const changeDataLoadMode = createAction(\"CHANGE_DATA_LOAD_MODE\");\r\nexport const changeDateLoad = createAction(\"CHANGE_DATE_LOAD\");\r\nexport const selectDay = createAction(\"SELECT_DAY\");\r\nexport const filterCurrLessons = createAction(\"FILTER_CURR_LESSONS\");\r\nexport const setDateWeek = createAction(\"SET_DATE_WEEK\");\r\n\r\nexport const loadShedule = (mode = 'curr') => async (dispatch) => {\r\n    dispatch(loadSheduleRequest());\r\n    try {\r\n        // let { year, month, day } = DateTime.local();\r\n        let { year, month, day } = { year: '2020', month: '11', day: '2' };\r\n\r\n        if (mode === 'next') {\r\n            day = Number(day) + 7 > 30 ? (Number(day) - 30) - 7 : Number(day) + 7;\r\n        }\r\n\r\n        month = month < 10 ? `0${month}` : month;\r\n        day = day < 10 ? `0${day}` : day;\r\n        const currDate = `${year}-${month}-${day}`;\r\n\r\n        const currWeek = await axios.get(`http://1c.surpk.ru/schedule/api/weeks/date/${currDate}`);\r\n        if (Object.keys(currWeek.data).length === 0) {\r\n            dispatch(loadSheduleEmpty());\r\n        }\r\n        else {\r\n            dispatch(setDateWeek({ date: currWeek.data[0].dateStart }));\r\n            const idCurrWeek = currWeek.data[0]._id;\r\n            const responce = await axios.get(`http://1c.surpk.ru/schedule/api/lessons/week/${idCurrWeek}`);\r\n            const { data } = responce;\r\n\r\n            dispatch(loadSheduleSuccess({ data }));\r\n            dispatch(loadDaysCurrWeek({ week: currWeek.data[0] }));\r\n        }\r\n\r\n    } catch (e) {\r\n        dispatch(loadSheduleFailure());\r\n        throw e;\r\n    }\r\n}","import React from 'react';\r\nimport './filter.scss';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from '../../actions';\r\nimport _ from 'lodash';\r\n\r\nconst actionsCreators = {\r\n  loadShedule: actions.loadShedule,\r\n  loadFilterData: actions.loadFilterData,\r\n  switchFilter: actions.switchFilter,\r\n  loadCurrLessons: actions.loadCurrLessons,\r\n  changeMode: actions.changeDataLoadMode,\r\n  clearFilter: actions.clearFilter,\r\n  pushPropFromLoadLessons: actions.pushProp,\r\n  changeDateLoad: actions.changeDateLoad,\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    groups: state.filter,\r\n    shedule: state.shedule,\r\n    mode: state.sheduleMode.dataLoadMode,\r\n    dateLoad: state.sheduleMode.dateLoad,\r\n    dateCurrWeek: state.sideBar.dateCurrWeek,\r\n    sheduleState: state.sheduleState,\r\n  };\r\n}\r\n\r\nfunction Filter(props) {\r\n  const [filterList, setfilterList] = React.useState({});\r\n  const [searchResults, setSearchResults] = React.useState({});\r\n  const [searchValue, setSearchValue] = React.useState({});\r\n\r\n  const changeMode = () => (e) => {\r\n    e.preventDefault();\r\n    props.changeMode();\r\n    props.clearFilter();\r\n    setfilterList({});\r\n  }\r\n\r\n  const addFilterCourse = (num) => (e) => {\r\n    e.preventDefault();\r\n\r\n    setfilterList({ ...filterList, course: num });\r\n    const prop = {\r\n      data: props.shedule,\r\n      filter: { ...filterList, course: num },\r\n      mode: props.mode\r\n    }\r\n\r\n    props.loadFilterData({ prop });\r\n  }\r\n\r\n  const addFilterDiv = (num) => (e) => {\r\n    e.preventDefault();\r\n    setfilterList({ division: num });\r\n    if (props.mode === 'teacher') {\r\n      const prop = {\r\n        data: props.shedule,\r\n        filter: { ...filterList },\r\n        mode: props.mode,\r\n        division: num,\r\n      }\r\n\r\n      props.loadFilterData({ prop });\r\n    }\r\n  }\r\n\r\n  const selectLastItem = (item, mode = props.mode) => (e) => {\r\n    e.preventDefault();\r\n    props.switchFilter();\r\n    setfilterList({});\r\n\r\n    window.localStorage.item = item;\r\n    window.localStorage.mode = mode;\r\n\r\n    const prop = {\r\n      data: props.shedule,\r\n      filter: { ...filterList, group: item },\r\n      mode,\r\n    }\r\n\r\n    props.pushPropFromLoadLessons({ prop });\r\n    props.loadCurrLessons({ prop });\r\n  }\r\n\r\n  const backFilterSelect = () => (e) => {\r\n    e.preventDefault();\r\n    const newFilter = filterList\r\n    delete newFilter.group;\r\n    delete newFilter.course;\r\n    setfilterList({ ...newFilter })\r\n  }\r\n\r\n  const search = () => (e) => {\r\n    e.preventDefault();\r\n    const value = e.target.value;\r\n    setSearchValue(value);\r\n\r\n    if (value.length > 0) {\r\n      let res;\r\n\r\n      if (props.mode === 'student') {\r\n        res = props.shedule.filter(item => {\r\n          return item.group.name.startsWith(value);\r\n        }).map(item => item.group.name);\r\n      }\r\n      if (props.mode === 'teacher') {\r\n        res = props.shedule.filter(item => {\r\n          return item.teacher.name.toLocaleLowerCase().startsWith(value.toLocaleLowerCase());\r\n        }).map(item => item.teacher.abb_name);\r\n      }\r\n\r\n      function compareNumeric(a, b) {\r\n        if (a > b) return 1;\r\n        if (a === b) return 0;\r\n        if (a < b) return -1;\r\n      }\r\n\r\n      res.sort(compareNumeric);\r\n      const newData = _.sortedUniq(res);\r\n      setSearchResults(newData);\r\n    }\r\n  }\r\n\r\n\r\n  const changeWeek = (mode) => (e) => {\r\n    e.preventDefault();\r\n    props.changeDateLoad();\r\n    props.loadShedule(mode);\r\n  }\r\n\r\n  const divisions = ['СП-1', \"СП-2\", \"СП-3\", \"СП-4\", \"СП-5\"];\r\n  const courses = [1, 2, 3, 4];\r\n\r\n\r\n  return (\r\n    <div className=\"shadow-container\">\r\n      <div className=\"filter\">\r\n        <div className=\"header\">\r\n          <div className=\"switch-head\" onClick={changeMode()}>\r\n            <div className={props.mode === 'teacher' ? 'active-item' : 'passive-item'}>Преподаватель</div>\r\n            <div className={props.mode === 'student' ? 'active-item' : 'passive-item'}>Студент</div>\r\n          </div>\r\n          <div className=\"search\">\r\n            <label htmlFor=\"search\" className=\"label-input\">\r\n              {props.mode === 'student' ? \"Введите номер группы:\" : \"Введите фамилию:\"}\r\n            </label>\r\n            <div className=\"search-cont\">\r\n              <input type=\"text\" placeholder=\"Поиск\" onInput={search()} />\r\n              {searchValue.length > 0 && <div className=\"search-results\">{\r\n                searchResults.map(item => {\r\n                  return (<div key={item} onClick={selectLastItem(item)} className='item'>{item}</div>);\r\n                })\r\n              }</div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {props.sheduleState === 'empty' || props.shedule.length === 0 ?\r\n          <div className=\"no-lessons\"> Нет данных </div> :\r\n          <div className=\"items-list\">\r\n            <div className=\"column\">\r\n              {divisions.map(item => {\r\n                let itemClasses = 'item';\r\n                if (item === filterList.division) {\r\n                  itemClasses += \" active\";\r\n                }\r\n\r\n                return (\r\n                  <div className={itemClasses} key={item}\r\n                    onClick={addFilterDiv(item)}>{item}</div>\r\n                )\r\n              })}\r\n            </div>\r\n            <div className=\"column\">\r\n              {filterList.division && props.mode === 'student' && courses.map(item => {\r\n                let itemClasses = 'item';\r\n                if (item === filterList.course) {\r\n                  itemClasses += \" active\";\r\n                }\r\n\r\n                return (\r\n                  <div className={itemClasses} key={item} onClick={addFilterCourse(item)}>{item} Курс</div>\r\n                )\r\n              })}\r\n            </div>\r\n            {Object.keys(filterList).length > 1 && props.mode === 'student' &&\r\n              <div className=\"column groups\">\r\n                <div className=\"arrow-left\" onClick={backFilterSelect()}></div>\r\n                {props.groups.length === 0 && filterList.course ? \"Группы не найдены\" : props.groups.map(item => {\r\n                  let itemClasses = 'item';\r\n                  if (item === filterList.course) {\r\n                    itemClasses += \" active\";\r\n                  }\r\n\r\n                  return (\r\n                    <div className={itemClasses} key={_.uniqueId()} onClick={selectLastItem(item)}>{item}</div>\r\n                  )\r\n                })}\r\n              </div>}\r\n            {props.mode === 'teacher' &&\r\n              <div className=\"column teacher-groups\">\r\n                {props.groups.length === 0 && filterList.division ? \"Преподаватели не найдены\" : props.groups.map(item => {\r\n                  let itemClasses = 'item item-teacher';\r\n                  if (item === filterList.course) {\r\n                    itemClasses += \" active\";\r\n                  }\r\n\r\n                  return (\r\n                    <div className={itemClasses} key={_.uniqueId()} onClick={selectLastItem(item)}>{item}</div>\r\n                  )\r\n                })}\r\n              </div>}\r\n          </div>\r\n        }\r\n\r\n\r\n\r\n        <div className=\"block-info\">\r\n          {props.sheduleState === 'ready' && <div className='info'>Расписание занятий на {props.dateCurrWeek}</div>}\r\n          <div className=\"weeks-button\">\r\n            {props.dateLoad === 'curr' ?\r\n              <div className=\"btn-w\" onClick={changeWeek('next')}>\r\n                <div className=\"text\">Следующая неделя</div>\r\n                <div className=\"arrow-right-sidebar\"></div>\r\n              </div>\r\n              :\r\n              <div className=\"btn-w\" onClick={changeWeek('curr')}>\r\n                <div className=\"arrow-left-sidebar\"></div>\r\n                <div className=\"text\">Текущая неделя</div>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst connFilter = connect(mapStateToProps, actionsCreators)(Filter)\r\nexport default connFilter;","import Filter from './Filter.js';\r\nexport default Filter;","import React from 'react';\r\nimport './sidebar.scss';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from '../../actions';\r\n\r\nconst actionsCreators = {\r\n  loadShedule: actions.loadShedule,\r\n  switchFilter: actions.switchFilter,\r\n  clearFilter: actions.clearFilter,\r\n  changeMode: actions.changeMode,\r\n  loadCurrLessons: actions.loadCurrLessons,\r\n  changeDateLoad: actions.changeDateLoad\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    currGroup: state.currLessons[0].group.name,\r\n    currTeacher: state.currLessons[0].teacher.abb_name,\r\n    sheduleMode: state.sheduleMode.mode,\r\n    mode: state.sheduleMode.mode,\r\n    loadMode: state.sheduleMode.dataLoadMode,\r\n    propFromLoad: state.propFromLoad,\r\n    dateLoad: state.sheduleMode.dateLoad\r\n  };\r\n}\r\n\r\nfunction Sidebar(props) {\r\n\r\n  const openFilter = (e) => {\r\n    e.preventDefault();\r\n    props.clearFilter();\r\n    props.switchFilter();\r\n  }\r\n\r\n  let filterClasses = 'btn-filter ';\r\n\r\n  if (props.filter) {\r\n    filterClasses += 'btn-active';\r\n  }\r\n\r\n  const changeMode = () => (e) => {\r\n    e.preventDefault();\r\n    props.changeMode();\r\n  }\r\n\r\n  const changeWeek = (mode) => (e) => {\r\n    e.preventDefault();\r\n\r\n    props.changeDateLoad();\r\n    props.loadShedule(mode);\r\n    props.loadCurrLessons({ prop: props.propFromLoad });\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"main-container\">\r\n        <div className={filterClasses} onClick={openFilter}>\r\n          <div className=\"icon\"></div>\r\n          <div className=\"text\">Фильтр</div>\r\n        </div>\r\n        <div className=\"group\">{props.loadMode !== 'teacher' ? props.currGroup + \" группа\" : props.currTeacher} </div>\r\n        <div className=\"switch-head\" onClick={changeMode()} >\r\n          <div className={props.mode === 'day' ? 'active-item' : 'passive-item'}>День</div>\r\n          <div className={props.mode === 'week' ? 'active-item' : 'passive-item'}>Неделя</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"weeks-button\">\r\n        {props.dateLoad === 'curr' ?\r\n          <div className=\"btn-w\" onClick={changeWeek('next')}>\r\n            <div className=\"text\">Следующая неделя</div>\r\n            <div className=\"arrow-right-sidebar\"></div>\r\n          </div>\r\n          :\r\n          <div className=\"btn-w\" onClick={changeWeek('curr')}>\r\n            <div className=\"arrow-left-sidebar\"></div>\r\n            <div className=\"text\">Текущая неделя</div>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst connSidebar = connect(mapStateToProps, actionsCreators)(Sidebar)\r\nexport default connSidebar;","import Sidebar from './Sidebar.js';\r\nexport default Sidebar;","import Lesson from './Lesson.js';\r\nexport default Lesson;","import React from 'react';\r\nimport './lesson.scss';\r\n\r\nexport default function Lesson(props) {\r\n\r\n    const { lesson } = props;\r\n\r\n    if (props.mode === 'week') {\r\n\r\n        if (lesson.subject.name === 'Нет пары') {\r\n            return (\r\n                <div className=\"item\" >\r\n                    <div className=\"num-lesson\">{lesson.lessonNumber}</div>\r\n                    <div className=\"couple\">\r\n                        <div className=\"head-card\">\r\n                            <div className=\"name\">{lesson.subject.name}</div>\r\n                        </div>\r\n                        <div className=\"cont\">\r\n                            <div className=\"teacher\">\r\n                                <div className=\"icon\"></div>\r\n                                <div className=\"name\">\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"min-cont\">\r\n                                <div className=\"cab\">\r\n                                    <div className=\"flag-icon\"></div>\r\n                                </div>\r\n                                <div className=\"time\">\r\n                                    00:00\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (props.subLesson !== null) {\r\n            const { subLesson } = props;\r\n\r\n            return (\r\n                <div className=\"item\">\r\n                    <div className=\"num-lesson\">{lesson.lessonNumber}</div>\r\n                    <div className=\"couple\">\r\n                        <div className=\"headers\">\r\n                            <div className=\"head-card head-card-first head-card-min\">\r\n                                <div className=\"name\">{lesson.subject.name}</div>\r\n                                <div className=\"teacher\">\r\n                                    <div className=\"icon\"></div>\r\n                                    <div className=\"name name-min\">\r\n                                        {lesson.teacher.abb_name}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"head-card head-card-second head-card-min\">\r\n                                <div className=\"name\">{subLesson.subject.name}</div>\r\n                                <div className=\"teacher\">\r\n                                    <div className=\"icon\"></div>\r\n                                    <div className=\"name name-min\">\r\n                                        {subLesson.exhibitor}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"cont\">\r\n\r\n                            <div className=\"cab\">\r\n                                <div className=\"flag-icon\"></div>\r\n                                {lesson.cabinet ? lesson.cabinet.number : null}\r\n                            </div>\r\n                            <div className=\"time\">\r\n                                00:00\r\n                            </div>\r\n                            <div className=\"cab\">\r\n                                <div className=\"flag-icon\"></div>\r\n                                {subLesson.cabinet ? subLesson.cabinet.number : null}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"item\" >\r\n                    <div className=\"num-lesson\">{lesson.lessonNumber}</div>\r\n                    <div className=\"couple\">\r\n                        <div className=\"head-card\">\r\n                            <div className=\"name\">{lesson.subject.name}</div>\r\n                        </div>\r\n                        <div className=\"cont\">\r\n                            <div className=\"teacher\">\r\n                                <div className=\"icon\"></div>\r\n                                <div className=\"name\">\r\n                                    {lesson.exhibitor}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"min-cont\">\r\n                                <div className=\"cab\">\r\n                                    <div className=\"flag-icon\"></div>\r\n                                    {lesson.cabinet ? lesson.cabinet.number : null}\r\n                                </div>\r\n                                <div className=\"time\">\r\n                                    00:00\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    if (props.mode === 'day') {\r\n\r\n        if (lesson.subject.name === 'Нет пары') {\r\n            return (\r\n                <div className=\"item\">\r\n                    <div className=\"num\">{lesson.lessonNumber}</div>\r\n                    <div className=\"couple one-couple no-lesson\">\r\n                        <div className=\"text\">{lesson.subject.name}</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        if (props.subLesson !== null) {\r\n            const { subLesson } = props;\r\n\r\n            return (\r\n                <div className=\"item\">\r\n                    <div className=\"num\">{lesson.lessonNumber}</div>\r\n                    <div className=\"couple\">\r\n                        <div className=\"sub-item\">\r\n                            <div className=\"head-card\">\r\n                                <div className=\"titles\">\r\n                                    <div className=\"name\">{lesson.subject.name}</div>\r\n                                    <div className=\"teacher\">{lesson.teacher.name === lesson.exhibitor ? lesson.teacher.name : lesson.exhibitor}</div>\r\n                                </div>\r\n                                <div className=\"cont\">\r\n                                    <div className=\"sign\">{lesson.subgroup}</div>\r\n                                    <div className=\"cab\">{lesson.cabinet ? subLesson.cabinet.number : null} каб</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"sub-item\">\r\n                            <div className=\"head-card\">\r\n                                <div className=\"titles\">\r\n                                    <div className=\"name\">{subLesson.subject.name}</div>\r\n                                    <div className=\"teacher\">{subLesson.teacher.name === subLesson.exhibitor ? subLesson.teacher.name : subLesson.exhibitor}</div>\r\n                                </div>\r\n                                <div className=\"cont\">\r\n                                    <div className=\"sign\">{subLesson.subgroup}</div>\r\n                                    <div className=\"cab\">{subLesson.cabinet ? subLesson.cabinet.number : null} каб</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"time\">00:00 - 00:00</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <div className=\"item\">\r\n                    <div className=\"num\">{lesson.lessonNumber}</div>\r\n                    <div className=\"couple one-couple\">\r\n                        <div className=\"head-card\">\r\n                            <div className=\"titles\">\r\n                                <div className=\"name\">{lesson.subject.name}</div>\r\n                                <div className=\"teacher\">{lesson.teacher.name === lesson.exhibitor ? lesson.teacher.name : lesson.exhibitor}</div>\r\n                            </div>\r\n                            <div className=\"cont\">\r\n                                {lesson.subgroup !== 0 ? <div className=\"sign\">{lesson.subgroup}</div> : null}\r\n                                <div className=\"cab\">{lesson.cabinet ? lesson.cabinet.number : null} каб</div>\r\n                                {/* <div className=\"icon-dinner\"></div> */}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"time\">00:00 - 00:00</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport './nawWeek.scss';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from '../../actions/index';\r\n\r\nconst actionsCreators = {\r\n  selectDay: actions.selectDay,\r\n}\r\n\r\nconst mapStatetoProps = (state) => {\r\n  return { days: state.currWeek, currDay: state.selectedDay };\r\n}\r\n\r\nfunction NavWeek(props) {\r\n\r\n  const selectDayHadle = (day) => (e) => {\r\n    e.preventDefault();\r\n    props.selectDay({ day });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"nav-week d-flex\">\r\n\r\n      {props.days.map(day => {\r\n        let classes = 'item';\r\n\r\n        if (props.currDay === day.fullDate) {\r\n          classes += ' item-active';\r\n        }\r\n\r\n        return (\r\n          <div className={classes} key={day.day} onClick={selectDayHadle(day.fullDate)}>\r\n            <div className=\"num\">{day.day}</div>\r\n            <div className=\"day\">{day.littleWeekDay}</div>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst connNavWeek = connect(mapStatetoProps, actionsCreators)(NavWeek)\r\nexport default connNavWeek;","import NawWeek from './NawWeek.js';\r\nexport default NawWeek;\r\n","import React from 'react';\r\nimport './sheduleDay.scss';\r\nimport { connect } from \"react-redux\";\r\nimport Lesson from '../Lesson/index';\r\nimport NawWeek from '../NawWeek/index';\r\nimport _ from 'lodash';\r\n\r\n\r\nconst actionsCreators = {\r\n\r\n}\r\n\r\nconst mapStatetoProps = (state) => {\r\n  return { lessons: state.currLessons, currDay: state.selectedDay, sheduleState: state.sheduleState }\r\n}\r\n\r\nfunction SheduleDay(props) {\r\n\r\n  const { lessons, currDay } = props;\r\n\r\n  const filterLessons = (dayLessons) => {\r\n\r\n    const newLessons = [];\r\n    const numbers = dayLessons.map(lesson => lesson.lessonNumber);\r\n\r\n    const findLesson = (num, lessons) => {\r\n      const currLessons = lessons.filter(lesson => lesson.lessonNumber === num);\r\n      if (currLessons.length === 1) {\r\n        return currLessons[0];\r\n      }\r\n      if (currLessons.length > 1) {\r\n        return currLessons;\r\n      }\r\n\r\n      return { subject: { name: \"Нет пары\" }, lessonNumber: num, _id: _.uniqueId() };\r\n    }\r\n\r\n    for (let i = 1; i <= numbers[numbers.length - 1]; i++) {\r\n      newLessons.push(findLesson(i, dayLessons));\r\n    }\r\n\r\n    return newLessons;\r\n  }\r\n\r\n  const dayLessonsF = _.sortBy(lessons.filter(lesson => lesson.date === currDay), 'lessonNumber');\r\n\r\n  const generateLessons = () => {\r\n    const dayLessons = filterLessons(dayLessonsF);\r\n\r\n    const result = dayLessons.map((lesson) => {\r\n      if (Array.isArray(lesson)) {\r\n        return (<div className='lesson' key={lesson[0]._id}>\r\n          <Lesson mode=\"day\" lesson={lesson[0]} subLesson={lesson[1]} key={lesson[0]._id} />\r\n        </div>)\r\n      }\r\n      else {\r\n        return (<div className='lesson' key={lesson._id}>\r\n          <Lesson mode=\"day\" lesson={lesson} subLesson={null} key={lesson._id} />\r\n        </div>)\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  if (props.sheduleState === 'loading') {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"main-container\">\r\n          <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  if (props.sheduleState === 'empty') {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"main-container\">\r\n          <div class=\"no-lessons\"> Нет данных </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"shadow-container shedule-day col-10 p-0\">\r\n      <NawWeek />\r\n      <div className=\"sheldue-day-cont main-cont\">\r\n        {dayLessonsF.length !== 0 ? (\r\n          <div className=\"content\">\r\n            <div className=\"couples\">\r\n              {generateLessons()}\r\n            </div>\r\n          </div>\r\n        ) : (<div className=\"no-lessons\"> Пар нет </div>)}\r\n\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nconst connSheduleDay = connect(mapStatetoProps, actionsCreators)(SheduleDay)\r\nexport default connSheduleDay;","import SheduleDay from './SheduleDay.js';\r\nexport default SheduleDay;","import React from 'react';\r\nimport './sheduleWeek.scss';\r\nimport { connect } from \"react-redux\";\r\nimport _ from 'lodash';\r\nimport Lesson from '../Lesson/index';\r\nimport * as actions from '../../actions/index';\r\n\r\nconst mapStatetoProps = (state) => {\r\n  return { days: state.currWeek, lessons: state.currLessons };\r\n}\r\n\r\nconst actionsCreators = {\r\n  selectDay: actions.selectDay,\r\n  changeMode: actions.changeMode,\r\n}\r\n\r\nfunction SheduleWeek(props) {\r\n\r\n  const filterLessons = (dayLessons) => {\r\n\r\n    const newLessons = [];\r\n    const numbers = dayLessons.map(lesson => lesson.lessonNumber);\r\n\r\n    const findLesson = (num, lessons) => {\r\n      const currLessons = lessons.filter(lesson => lesson.lessonNumber === num);\r\n\r\n      if (currLessons.length === 1) {\r\n        return currLessons[0];\r\n      }\r\n      if (currLessons.length > 1) {\r\n        return currLessons;\r\n      }\r\n\r\n      return { subject: { name: \"Нет пары\" }, lessonNumber: num, _id: _.uniqueId() };\r\n    }\r\n\r\n    for (let i = 1; i <= numbers[numbers.length - 1]; i++) {\r\n      newLessons.push(findLesson(i, dayLessons));\r\n    }\r\n\r\n    return newLessons;\r\n  }\r\n\r\n  const generateLessons = (dayLessons) => {\r\n    const fLessons = filterLessons(dayLessons);\r\n\r\n    const result = fLessons.map((lesson, i) => {\r\n\r\n      if (Array.isArray(lesson)) {\r\n        return (<div className='lesson' key={lesson[0]._id}>\r\n          <Lesson mode=\"week\" lesson={lesson[0]} subLesson={lesson[1]} key={lesson[0]._id} />\r\n        </div>)\r\n      }\r\n      else {\r\n        return (<div className='lesson' key={lesson._id}>\r\n          <Lesson mode=\"week\" lesson={lesson} subLesson={null} key={lesson._id} />\r\n        </div>)\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  const openDay = (day) => (e) => {\r\n    e.preventDefault();\r\n    props.changeMode();\r\n    props.selectDay({ day });\r\n  }\r\n\r\n  return (\r\n    <div className=\"shedule-week p-0\">\r\n      {props.days.map(day => {\r\n\r\n        const dayLessons = _.sortBy(props.lessons.filter(lesson => lesson.date === day.fullDate), 'lessonNumber');\r\n\r\n        return (\r\n          <div className=\"container-day\" key={day.day}>\r\n            <div className=\"row-items\">\r\n              <div className=\"head\">\r\n                <div className=\"day-week\">{day.weekDay}</div>\r\n                <div className=\"min-cont\">\r\n                  <div className=\"cont-btn-more\">\r\n                    <div className=\"btn-more\" onClick={openDay(day.fullDate)}></div>\r\n                  </div>\r\n                  <div className=\"day\">{day.day}</div>\r\n                </div>\r\n              </div>\r\n              {dayLessons.length === 0 ? (<div className=\"no-lessons\"> Пар нет </div>) : generateLessons(dayLessons)}\r\n\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n\r\n    </div >\r\n  );\r\n}\r\n\r\nconst connSheduleWeek = connect(mapStatetoProps, actionsCreators)(SheduleWeek)\r\nexport default connSheduleWeek;","import SheduleWeek from './SheduleWeek.js';\r\nexport default SheduleWeek;","import React from 'react';\r\nimport './app.scss';\r\nimport Filter from './componets/Filter';\r\nimport Sidebar from './componets/Sidebar';\r\nimport SheduleDay from './componets/SheduleDay';\r\nimport SheduleWeek from './componets/SheduleWeek';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from './actions';\r\n\r\nconst actionsCreators = {\r\n  loadShedule: actions.loadShedule,\r\n  switchFilter: actions.switchFilter,\r\n  pushPropFromLoadLessons: actions.pushProp,\r\n  loadCurrLessons: actions.loadCurrLessons,\r\n  loadShedule: actions.loadShedule,\r\n}\r\n\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    filter: state.sideBar.filter, sheduleMode: state.sheduleMode.mode, shedule: state.shedule,\r\n    sheduleState: state.sheduleState\r\n  };\r\n}\r\n\r\nfunction App(props) {\r\n  const [startUser, setStartUser] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    if (window.localStorage.item && window.localStorage.mode && props.shedule.length > 0 && startUser) {\r\n      const { item, mode } = window.localStorage;\r\n\r\n      const prop = {\r\n        data: props.shedule,\r\n        filter: { group: item },\r\n        mode,\r\n      }\r\n\r\n\r\n      setStartUser(false);\r\n      props.switchFilter();\r\n      props.pushPropFromLoadLessons({ prop });\r\n      props.loadCurrLessons({ prop });\r\n    }\r\n  }, [props.sheduleState]);\r\n\r\n  if (props.sheduleState === 'failed') {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"main-container\">\r\n        <div class=\"no-lessons\"> Что то пошло не так... </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"main-container\">\r\n        {!props.filter && <Sidebar />}\r\n        {props.filter ? <Filter /> : (props.sheduleMode === 'week' ? <SheduleWeek /> : <SheduleDay />)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst ConnectApp = connect(mapStatetoProps, actionsCreators)(App)\r\nexport default ConnectApp;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import {\r\n    handleActions\r\n} from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\nimport _ from 'lodash';\r\n\r\nexport default handleActions({\r\n    [actions.loadFilterData](state, { payload: { prop } }) {\r\n        const { filter, data, mode } = prop;\r\n\r\n        const filtered = data.filter((item) => {\r\n            if (mode === 'student') {\r\n                return (item.division.abb_name === filter.division && item.group.course === filter.course)\r\n            }\r\n            return (item.division.abb_name === prop.division)\r\n        });\r\n        const groupsNosorted = filtered.map(item => mode === 'teacher' ? item.teacher.abb_name : item.group.name);\r\n\r\n        function compareNumeric(a, b) {\r\n            if (a > b) return 1;\r\n            if (a === b) return 0;\r\n            if (a < b) return -1;\r\n        }\r\n\r\n        groupsNosorted.sort(compareNumeric);\r\n        const newData = _.sortedUniq(groupsNosorted);\r\n\r\n        return newData;\r\n\r\n    },\r\n    [actions.clearFilter]() {\r\n        return [];\r\n    }\r\n}, []);","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\n\r\nexport default handleActions({\r\n    [actions.loadSheduleSuccess](state, {payload: { data }}) {\r\n        return data;\r\n    }\r\n}, {});","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\n\r\nexport default handleActions({\r\n    [actions.loadSheduleSuccess]() {\r\n        return 'ready';\r\n    },\r\n    [actions.loadSheduleRequest]() {\r\n        return 'loading';\r\n    },\r\n    [actions.loadSheduleFailure]() {\r\n        return 'failed';\r\n    },\r\n    [actions.loadSheduleEmpty]() {\r\n        return 'empty';\r\n    }\r\n}, 'none');","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\n\r\nexport default handleActions({\r\n    [actions.switchFilter](state) {\r\n        return {\r\n            filter: !state.filter,\r\n            dateCurrWeek: state.dateCurrWeek\r\n        };\r\n    },\r\n    [actions.setDateWeek](state, { payload: { date } }) {\r\n        return {\r\n            filter: state.filter,\r\n            dateCurrWeek: date.slice(0, 10)\r\n        };\r\n    }\r\n}, { filter: true, dateCurrWeek: '' });","import {\r\n    DateTime\r\n} from 'luxon';\r\nimport {\r\n    handleActions\r\n} from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\n\r\nexport default handleActions({\r\n    [actions.loadDaysCurrWeek](state, {\r\n        payload: {\r\n            week\r\n        }\r\n    }) {\r\n        const days = [];\r\n\r\n        const firstDayWeek = week.dateStart;\r\n        const propsDate = DateTime.fromISO(firstDayWeek).setLocale('ru');\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const date = propsDate.plus({\r\n                days: i\r\n            });\r\n            const day = date.c.day;\r\n            const month = date.toFormat('MMMM');\r\n            const weekDay = date.toFormat('EEEE').split(/\\s+/).map(word => word[0].toUpperCase() + word.substring(1)).join(' ');\r\n            const littleWeekDay = date.toFormat('EEE').split(/\\s+/).map(word => word[0].toUpperCase() + word.substring(1)).join(' ');\r\n            \r\n\r\n            const fyear = date.c.year;\r\n            const fmonth = date.c.month < 10 ? `0${date.c.month}` : date.c.month;\r\n            const fday = date.c.day < 10 ? `0${date.c.day}` : date.c.day;\r\n\r\n            const fullDate = `${fyear}-${fmonth}-${fday}`;\r\n\r\n            const res = {\r\n                day: `${day} ${month}`,\r\n                weekDay,\r\n                littleWeekDay,\r\n                fullDate,\r\n            };\r\n            days.push(res);\r\n        }\r\n\r\n        return days;\r\n    },\r\n}, []);","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\nimport _ from 'lodash';\r\n\r\nexport default handleActions({\r\n    [actions.loadCurrLessons](state, {payload: { prop }}) {\r\n\r\n        const {filter, data, mode} = prop;\r\n        if (mode === 'student') {\r\n            const filtered = data.filter((item) => {\r\n                return item.group.name === filter.group;\r\n            }).map(item => {\r\n                return {...item, exhibitor: item.teacher.abb_name };\r\n            });\r\n    \r\n            const sortedLessons = _.sortBy(filtered, ['lessonNumber']);\r\n            return sortedLessons;\r\n        }\r\n        if (mode === 'teacher') {\r\n            const filtered = data.filter((item) => {\r\n                return item.teacher.abb_name === filter.group;  \r\n            }).map(item => {\r\n                return {...item, exhibitor: item.group.name };\r\n            });\r\n    \r\n            const sortedLessons = _.sortBy(filtered, ['lessonNumber']);\r\n            return sortedLessons;\r\n        }\r\n    }\r\n}, {});\r\n\r\n","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\n\r\nexport default handleActions({\r\n    [actions.changeMode](state) {\r\n        return {\r\n            mode: state.mode === 'week' ? 'day' : 'week', \r\n            dataLoadMode: state.dataLoadMode,\r\n            dateLoad: state.dateLoad\r\n        };\r\n    },\r\n    [actions.changeDataLoadMode](state) {\r\n        return {\r\n            dataLoadMode: state.dataLoadMode === 'student' ? 'teacher' : 'student', \r\n            mode: state.mode,\r\n            dateLoad: state.dateLoad\r\n        };\r\n    },\r\n    [actions.changeDateLoad](state) {\r\n        return {\r\n            dateLoad: state.dateLoad === 'curr' ? 'next' : 'curr', \r\n            mode: state.mode,\r\n            dataLoadMode: state.dataLoadMode\r\n        };\r\n    }\r\n}, { mode: 'week', dataLoadMode: 'student', dateLoad: 'curr' });","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\nimport {\r\n    DateTime\r\n} from 'luxon';\r\n\r\n\r\n\r\nexport default handleActions({\r\n    [actions.selectDay](state, { payload: { day } }) {\r\n        return day;\r\n    },\r\n    [actions.loadDaysCurrWeek](state, {\r\n        payload: {\r\n            week\r\n        }\r\n    }) {\r\n        const firstDayWeek = week.dateStart;\r\n        const propsDate = DateTime.fromISO(firstDayWeek);\r\n        \r\n        for (let i = 0; i < 6; i++) {\r\n            const date = propsDate.plus({\r\n                days: i\r\n            });\r\n\r\n            const localWeekDay = date.toFormat('EEEE');\r\n            const todayWeekDay = DateTime.local().toFormat('EEEE');\r\n            \r\n            if (localWeekDay === todayWeekDay) {\r\n                const fmonth = date.c.month < 10 ? `0${date.c.month}` : date.c.month;\r\n                const fday = date.c.day < 10 ? `0${date.c.day}` : date.c.day;\r\n    \r\n                return `${date.c.year}-${fmonth}-${fday}`;\r\n            }\r\n        }\r\n    },\r\n}, '');","import { handleActions } from 'redux-actions';\r\nimport * as actions from '../../actions/index';\r\n\r\nexport default handleActions({\r\n    [actions.pushProp](state, {payload: { prop }}) {\r\n        return prop;\r\n    }\r\n}, {});\r\n\r\n","import { combineReducers } from 'redux';\r\n\r\nimport filter from './handlers/filter'; \r\nimport shedule from './handlers/shedule'; \r\nimport sheduleState from './handlers/sheduleState'; \r\nimport sideBar from './handlers/sideBar';\r\nimport currWeek from './handlers/currWeek';\r\nimport currLessons from './handlers/currLessons';\r\nimport sheduleMode from './handlers/sheduleMode';\r\nimport selectedDay from './handlers/selectedDay';\r\nimport propFromLoad from './handlers/propFromLoad';\r\n\r\nexport default combineReducers({\r\n    filter,\r\n    shedule,\r\n    sideBar,\r\n    currWeek,\r\n    currLessons,\r\n    sheduleMode,\r\n    selectedDay,\r\n    propFromLoad,\r\n    sheduleState\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport reducers from './reducers/index';\r\nimport thunk from 'redux-thunk';\r\nimport * as actions from './actions/index';\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n  )\r\n);\r\n\r\nstore.dispatch(actions.loadShedule());\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}